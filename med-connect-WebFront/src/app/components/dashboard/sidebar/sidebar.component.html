<aside class="sidebar">
  <div class="sidebar-container">
    <div class="sidebar-header">
      <div class="logo-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 8v8M8 12h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
      <h2 class="logo">HARVEST</h2>
    </div>

    <nav class="sidebar-nav">
      <a [routerLink]="getDashboardRoute()" routerLinkActive="active" class="nav-item" [routerLinkActiveOptions]="{exact: true}">
        <div class="nav-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
            <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
            <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
            <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>
        <span>Dashboard</span>
      </a>

      @if (userRole === 'patient') {
        <a routerLink="/patient/appointments" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Appointments</span>
        </a>
        <a routerLink="/patient/records" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
              <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Medical Records</span>
        </a>
        <a routerLink="/patient/prescriptions" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
              <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Prescriptions</span>
        </a>
        <a routerLink="/patient/doctors" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
              <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Search Doctors</span>
        </a>
        <a routerLink="/patient/connections" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2"/>
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Connections</span>
        </a>
        <a routerLink="/patient/messages" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Messages</span>
          <span class="nav-badge" *ngIf="unreadMessages > 0">{{ unreadMessages }}</span>
        </a>
        <a routerLink="/patient/ratings" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Rate Doctors</span>
        </a>
      }

      @if (userRole === 'doctor') {
        <a routerLink="/doctor/appointments" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Appointments</span>
          <span class="nav-badge">3</span>
        </a>

        <a routerLink="/doctor/patients" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2"/>
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Patients</span>
        </a>

        <a routerLink="/doctor/prescriptions" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
              <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Prescriptions</span>
        </a>
        <a routerLink="/doctor/records" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2"/>
              <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Patient Records</span>
        </a>

        <a routerLink="/doctor/connections" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2"/>
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Connections</span>
        </a>

        <a routerLink="/doctor/messages" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>Messages</span>
          <span class="nav-badge" *ngIf="unreadMessages > 0">{{ unreadMessages }}</span>
        </a>
        <a routerLink="/doctor/ratings" routerLinkActive="active" class="nav-item">
          <div class="nav-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <span>My Ratings</span>
        </a>
      }
    </nav>


    <div class="sidebar-footer">
      <button (click)="logout()" class="nav-item logout-btn">
        <div class="nav-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2"/>
            <polyline points="16 17 21 12 16 7" stroke="currentColor" stroke-width="2"/>
            <line x1="21" y1="12" x2="9" y2="12" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>
        <span>Logout</span>
      </button>
    </div>
  </div>
</aside>
